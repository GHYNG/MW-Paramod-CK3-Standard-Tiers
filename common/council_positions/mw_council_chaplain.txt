# MW Chaplains

councillor_court_chaplain = {
	skill = learning

	auto_fill = yes
	can_fire = {
		custom_description = {
			text = "court_chaplain_cant_fire_doctrines"
			faith = {
				NOT = {
					has_doctrine_parameter = clerical_appointment_fixed
				}
			}
		}
	}
	
	can_reassign = {
		custom_description = {
			text = "court_chaplain_cant_reassign_doctrines"
			faith = {
				has_doctrine_parameter = clerical_appointment_ruler
			}
		}
	}
	
	can_change_once = {
		faith = {
			has_doctrine_parameter = clerical_appointment_fixed
		}
	}
	
	inherit = no
	fill_from_pool = yes
	
	councillor_cooldown_days = {
		value = 0
		if = {
			limit = {
				faith = {
					NOT = {
						has_doctrine_parameter = clerical_appointment_fixed
					}
				}
			}
			add = 3650
		}
	}
	
	name = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:councillor_liege.faith = { has_doctrine = doctrine_theocracy_temporal }
				}
				desc = {
					first_valid = {
						triggered_desc = {
							trigger = {
								scope:councillor_liege.faith = { has_doctrine = doctrine_clerical_succession_temporal_appointment }
							}
							desc = {
								first_valid = {
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_barony
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_appointment_barony
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_county
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_appointment_county
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_duchy
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_appointment_duchy
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_kingdom
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_appointment_kingdom
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_empire
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_appointment_empire
									}
								}
							}
						}
						triggered_desc = {
							trigger = {
								scope:councillor_liege.faith = { has_doctrine = doctrine_clerical_succession_spiritual_appointment }
							}
							desc = {
								first_valid = {
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_barony
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_appointment_barony
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_county
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_appointment_county
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_duchy
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_appointment_duchy
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_kingdom
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_appointment_kingdom
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_empire
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_appointment_empire
									}
								}
							}
						}
						triggered_desc = {
							trigger = {
								scope:councillor_liege.faith = { has_doctrine = doctrine_clerical_succession_temporal_fixed_appointment }
							}
							desc = {
								first_valid = {
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_barony
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_fixed_appointment_barony
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_county
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_fixed_appointment_county
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_duchy
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_fixed_appointment_duchy
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_kingdom
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_fixed_appointment_kingdom
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_empire
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_temporal_fixed_appointment_empire
									}
								}
							}
						}
						triggered_desc = {
							trigger = {
								scope:councillor_liege.faith = { has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment }
							}
							desc = {
								first_valid = {
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_barony
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_fixed_appointment_barony
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_county
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_fixed_appointment_county
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_duchy
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_fixed_appointment_duchy
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_kingdom
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_fixed_appointment_kingdom
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_empire
										}
										desc = councillor_chaplain_theocracy_temporal_clerical_succession_spiritual_fixed_appointment_empire
									}
								}
							}
						}
					}
				}
			}
			triggered_desc = {
				trigger = {
					scope:councillor_liege.faith = { has_doctrine = doctrine_theocracy_lay_chergy }
				}
				desc = {
					first_valid = {
						triggered_desc = {
							trigger = {
								scope:councillor_liege.faith = { has_doctrine = doctrine_clerical_succession_temporal_appointment }
							}
							desc = {
								first_valid = {
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_barony
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_appointment_barony
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_county
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_appointment_county
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_duchy
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_appointment_duchy
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_kingdom
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_appointment_kingdom
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_empire
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_appointment_empire
									}
								}
							}
						}
						triggered_desc = {
							trigger = {
								scope:councillor_liege.faith = { has_doctrine = doctrine_clerical_succession_spiritual_appointment }
							}
							desc = {
								first_valid = {
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_barony
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_appointment_barony
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_county
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_appointment_county
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_duchy
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_appointment_duchy
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_kingdom
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_appointment_kingdom
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_empire
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_appointment_empire
									}
								}
							}
						}
						triggered_desc = {
							trigger = {
								scope:councillor_liege.faith = { has_doctrine = doctrine_clerical_succession_temporal_fixed_appointment }
							}
							desc = {
								first_valid = {
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_barony
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_fixed_appointment_barony
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_county
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_fixed_appointment_county
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_duchy
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_fixed_appointment_duchy
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_kingdom
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_fixed_appointment_kingdom
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_empire
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_temporal_fixed_appointment_empire
									}
								}
							}
						}
						triggered_desc = {
							trigger = {
								scope:councillor_liege.faith = { has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment }
							}
							desc = {
								first_valid = {
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_barony
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_fixed_appointment_barony
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_county
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_fixed_appointment_county
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_duchy
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_fixed_appointment_duchy
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_kingdom
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_fixed_appointment_kingdom
									}
									triggered_desc = {
										trigger = {
											scope:councillor_liege.highest_held_title_tier = tier_empire
										}
										desc = councillor_chaplain_theocracy_lay_chergy_clerical_succession_spiritual_fixed_appointment_empire
									}
								}
							}
						}
					}
				}
			}
			desc = councillor_chaplain
		}
	}

	tooltip = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:councillor_liege.faith = { has_doctrine = doctrine_theocracy_temporal }
				}
				desc = game_concept_realm_priest_desc
			}
			desc = game_concept_court_chaplain_desc
		}
	}

	modifier = {
		name = councillor_court_chaplain_modifier
		county_opinion_add = 5
		monthly_learning_lifestyle_xp_gain_mult = 0.05
		scale = council_scaled_by_liege_tier
	}

	modifier = {
		name = councillor_court_chaplain_modifier
		monthly_piety = 1
		scale = council_scaled_monthly_income
	}

	council_owner_modifier = {
		name = learn_on_the_job_modifier
		learning = 1
		scale = court_chaplain_learn_on_the_job_scale
	}

	pool_character_config = pool_court_chaplain
	
	valid_character = {
		exists = root.liege_or_court_owner
		can_be_court_chaplain_trigger = { COURT_OWNER = root.liege_or_court_owner }
	}

	on_get_position = {
		got_council_position_effect = yes
	}

	on_fired_from_position = {
		fired_from_council_position_effect = yes
	}

	portrait_animation = chaplain
}